{% extends "base.html" %}
{% set active_page = "get_user_operations" %}

{% block title %}
<title>User Operations</title>
{% endblock %}

{% block content %}
<div class="container">
    <br>
    <div class="center">
        <h5 class="center">Get existing user</h5>
    </div>
    <div class="center">
        <form action="/user/get" method="POST">
            <div class="center">
                <input type="text" required placeholder="Existing username" name="username"
                    value="{{ username if (errors|length==0 and msg|length==0) else ''}}">
            </div>
            <button type="submit" class="center" onclick="clear_elem('communicate')">Submit</button>
        </form>
    </div>
    <br>
    <div class="center">
        <h5 class="center">Add user</h5>
    </div>
    <div class="center">
        <form action="/user/add" method="POST">
            <div class="center">
                <input type="text" required placeholder="Username" name="username">
                <input type="text" required placeholder="Email" name="email">
                <input type="text" required placeholder="Password" name="password">
            </div>
            <button type="submit" class="center" onclick="clear_elem('communicate')">Submit</button>
        </form>
    </div>
    <br>
    <div class="center">
        <h5 class="center">Delete user</h5>
    </div>
    <div class="center">
        <form action="/user/delete" method="POST">
            <div class="center">
                <input type="text" required placeholder="Existing username" name="username">
            </div>
            <button type="submit" class="center" onclick="clear_elem('communicate')">Submit</button>
        </form>
    </div>
    <br>
    <div class="center">
        <h5 class="center">Change user password</h5>
    </div>
    <div class="center">
        <form action="/user/update" method="POST">
            <div class="center">
                <input type="text" required placeholder="Existing username" name="username">
                <input type="text" required placeholder="Old password" name="old_password">
                <input type="text" required placeholder="New password" name="new_password">
            </div>
            <button type="submit" class="center" onclick="clear_elem('communicate')">Submit</button>
        </form>
    </div>
    <br><br>
    <div id="communicate">
        {% for error in errors %}
        <li class="nobull error">{{error}}</li>
        {% endfor %}
        {% if msg %}
        <li class="nobull success">
            {{msg}}
        </li>
        {% endif %}
    </div>

</div>
{% endblock %}